# 【最新】令和最新版ニュース記事の作成手順_最新決定版（2）のコピー

まず、基本的にすべての変更において [`CONTRIBUTING.md`](./CONTRIBUTING.md) に準じてください。

## はじめに

- 記事内容の修正は予告なしにある程度行ってもよい。
- 公開後の記事の削除は原則禁止。
- 公開後の記事の ID を変更する場合は [記事の ID を変えたい場合](#記事-id-を変更したい場合) を参照。

## 記事 ID のルール

- 基本は: `YYYYMMDD`
- 同じ日に複数の記事を投稿するならナンバリング: `YYYYMMDDNN`
	- ただしその日の最初の記事はナンバリングなし
	- ナンバリングは最大 59 まで
	- つまりナンバリングは 02 から 59 まで
- ID に文字を入れたい場合(非推奨): `YYYYMMDD_text` や `YYYYMMDDNN_text`
- 桁数は年が4桁、それ以外は2桁で統一
	- 例: 2023年4月13日の3つ目の記事なら `2023041303`

## 記事の作成手順

方法は次の2つがある:

- [テンプレートから作成](#テンプレートから作成) (推奨)
- [一から作成](#一から作成)

基本的にはテンプレートから作成するのが楽。

### テンプレートから作成

1. `npm run article` を実行。
1. 生成されたファイルを編集。
1. [サムネイル画像の設定方法](#サムネイル画像の設定方法)に従ってサムネイル画像を設定。

### 一から作成

1. `/article/{記事ID}.md` を作成。

必ず冒頭にフロントマターを書く:

```yaml
---
published: true
indexed: true
title: ニュース記事のテスト
---
```

- `published` が `false` になっているとニュース記事にアクセスできなる。
- `indexed` が `false` になっていると検索エンジンにインデックスされなくなる。
- `title` はタイトル。長くしすぎないように。

このフロントマターの下に本文を書いてください。
基本的な書式は Markdown です。詳しくは [`/article/20230206_test.md`](../articles/20230206_test.md) を参照されたい。

2. サムネイル画像を設定する

サムネイル画像は原則必須なので、以下の手順で設定してください。

## サムネイル画像の設定方法

以下の制約に従った上で [/assets/images/news/thumbnails/](../assets/images/news/thumbnails/) に画像を配置するだけ。

### サムネイル画像の制約

- ファイル名: 記事のファイル名と同じ
- ファイルフォーマット: WebP(推奨), PNG, JPEG(非推奨)
- 最大幅: 924px (原則)
- 最大高さ: 462px (原則)
- 最大ファイルサイズ: 1MB (原則)
- 同じ記事に複数種類のサムネイル画像を配置しない

## 記事 ID を変更したい場合

1. 元記事を複製して新しい ID のファイルを作成する。
1. 元記事のフロントマターに `redirect: {新しい記事ID}` を追加する。

例:

```yaml
---
redirect: 20240413
published: false
indexed: false
title: ニュース記事のテスト
---
```

こうすることで古い記事IDにアクセスされても新しい記事にリダイレクトされます。
リダイレクト先がある場合はサムネイル画像は不要です。

---

最終更新: 2024年7月8日
